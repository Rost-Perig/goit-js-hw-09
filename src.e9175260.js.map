{"version":3,"sources":["../debounce.js","../throttle.js","js/source-refs.js","js/gallery-creator.js","js/callbacks.js","index.js"],"names":["delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","arguments_","self","elapsed","Date","now","exec","apply","undefined","setTimeout","clear","cancel","atBegin","throttle","galleryItems","preview","original","description","refs","gallery","document","querySelector","lightbox","lightboxImage","closeLightbox","lightboxOverlay","gallerySection","xMousePosition","galleryTitle","titleColor","finalGalleryCreator","createGallery","items","map","liEl","createElement","imgEl","aEl","append","classList","add","href","src","alt","dataset","source","loading","createGalleryTitle","titleEl","textContent","style","color","prepend","onOpenLightbox","activeGalleryImgEl","activeElement","firstElementChild","contains","body","overflow","height","onCloseLightbox","remove","lightboxImageRight","currentImgElIndex","indexOf","find","item","nextImgEl","length","lightboxImageLeft","previousImgEl","onLightboxImageTurn","window","innerWidth","onCloseLightboxOverlay","evt","target","currentTarget","onKeyPress","modalIsOpen","code","addEventListener","preventDefault","clientX","console","log"],"mappings":"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","file":"src.e9175260.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-undefined */\n\nimport throttle from './throttle';\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {number}   delay -         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}  [atBegin] -     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback -      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @returns {Function} A new, debounced function.\n */\nexport default function (delay, atBegin, callback) {\n\treturn callback === undefined\n\t\t? throttle(delay, atBegin, false)\n\t\t: throttle(delay, callback, atBegin !== false);\n}\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {number}    delay -          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {boolean}   [noTrailing] -   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset).\n * @param  {Function}  callback -       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {boolean}   [debounceMode] - If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @returns {Function}  A new, throttled, function.\n */\nexport default function (delay, noTrailing, callback, debounceMode) {\n\t/*\n\t * After wrapper has stopped being called, this timeout ensures that\n\t * `callback` is executed at the proper times in `throttle` and `end`\n\t * debounce modes.\n\t */\n\tlet timeoutID;\n\tlet cancelled = false;\n\n\t// Keep track of the last time `callback` was executed.\n\tlet lastExec = 0;\n\n\t// Function to clear existing timeout\n\tfunction clearExistingTimeout() {\n\t\tif (timeoutID) {\n\t\t\tclearTimeout(timeoutID);\n\t\t}\n\t}\n\n\t// Function to cancel next exec\n\tfunction cancel() {\n\t\tclearExistingTimeout();\n\t\tcancelled = true;\n\t}\n\n\t// `noTrailing` defaults to falsy.\n\tif (typeof noTrailing !== 'boolean') {\n\t\tdebounceMode = callback;\n\t\tcallback = noTrailing;\n\t\tnoTrailing = undefined;\n\t}\n\n\t/*\n\t * The `wrapper` function encapsulates all of the throttling / debouncing\n\t * functionality and when executed will limit the rate at which `callback`\n\t * is executed.\n\t */\n\tfunction wrapper(...arguments_) {\n\t\tlet self = this;\n\t\tlet elapsed = Date.now() - lastExec;\n\n\t\tif (cancelled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\tfunction exec() {\n\t\t\tlastExec = Date.now();\n\t\t\tcallback.apply(self, arguments_);\n\t\t}\n\n\t\t/*\n\t\t * If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t * to allow future `callback` executions.\n\t\t */\n\t\tfunction clear() {\n\t\t\ttimeoutID = undefined;\n\t\t}\n\n\t\tif (debounceMode && !timeoutID) {\n\t\t\t/*\n\t\t\t * Since `wrapper` is being called for the first time and\n\t\t\t * `debounceMode` is true (at begin), execute `callback`.\n\t\t\t */\n\t\t\texec();\n\t\t}\n\n\t\tclearExistingTimeout();\n\n\t\tif (debounceMode === undefined && elapsed > delay) {\n\t\t\t/*\n\t\t\t * In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t * `callback`.\n\t\t\t */\n\t\t\texec();\n\t\t} else if (noTrailing !== true) {\n\t\t\t/*\n\t\t\t * In trailing throttle mode, since `delay` time has not been\n\t\t\t * exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t * recent execution.\n\t\t\t *\n\t\t\t * If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t * after `delay` ms.\n\t\t\t *\n\t\t\t * If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t * execute after `delay` ms.\n\t\t\t */\n\t\t\ttimeoutID = setTimeout(\n\t\t\t\tdebounceMode ? clear : exec,\n\t\t\t\tdebounceMode === undefined ? delay - elapsed : delay\n\t\t\t);\n\t\t}\n\t}\n\n\twrapper.cancel = cancel;\n\n\t// Return the wrapper function.\n\treturn wrapper;\n}\n","export const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\nexport const refs = {\r\n    gallery: document.querySelector('ul.js-gallery'),\r\n    lightbox: document.querySelector('.js-lightbox'),\r\n    lightboxImage: document.querySelector('img.lightbox__image'),\r\n    closeLightbox: document.querySelector('button[data-action=\"close-lightbox\"]'),\r\n    lightboxOverlay: document.querySelector('div.lightbox__overlay'),\r\n    gallerySection: document.querySelector('.gallery-section'),\r\n    xMousePosition: 0,\r\n    galleryTitle: \"MY BEAUTIFUL GALLERY\",\r\n    titleColor: \"#417026\",\r\n};","const createGallery = (items) => {\r\n  return items\r\n    .map(({ preview, original, description }) => {\r\n        \r\n      const liEl = document.createElement('li')\r\n      const imgEl = document.createElement('img');\r\n      const aEl = document.createElement('a');\r\n\r\n      aEl.append(imgEl);\r\n      liEl.append(aEl);\r\n\r\n      liEl.classList.add(\"gallery__item\");\r\n      imgEl.classList.add(\"gallery__image\");\r\n      aEl.classList.add(\"gallery__link\");\r\n      aEl.href = `${original}`;\r\n      imgEl.src = `${preview}`;\r\n      imgEl.alt = `${description}`;\r\n      imgEl.dataset.source = `${original}`;\r\n      imgEl.loading = \"lazy\";\r\n\r\n      return liEl;\r\n  });\r\n};\r\n\r\n/* вариант под innerHTML*/\r\n// const createGallery = (items) => {\r\n//   return items\r\n//     .map(({ preview, original, description }) => {\r\n//         return  `\r\n//           <li class=\"gallery__item\">\r\n//             <a\r\n//               class=\"gallery__link\"\r\n//               href=\"${original}\"\r\n//               >\r\n//               <img\r\n//                 class=\"gallery__image\"\r\n//                 loading=\"lazy\"\r\n//                 src=\"${preview}\"\r\n//                 data-source=\"${original}\"\r\n//                 alt=\"${description}\"\r\n//               />\r\n//             </a>\r\n//           </li>\r\n//         `;\r\n//       })\r\n//     .join('');\r\n// };\r\n\r\nconst createGalleryTitle = ({ galleryTitle, titleColor }) => {\r\n  const titleEl = document.createElement('h2');\r\n  titleEl.textContent = galleryTitle;\r\n  titleEl.style.color = titleColor;\r\n  return titleEl;\r\n};\r\n\r\nconst finalGalleryCreator = (refs, items) => {\r\n  refs.gallerySection.prepend(createGalleryTitle(refs));\r\n  refs.gallery.append(...createGallery(items));\r\n  // refs.gallery.innerHTML = createGallery(items);\r\n};\r\n\r\nexport default finalGalleryCreator;","export function onOpenLightbox({lightbox, lightboxImage}) {\r\n  const activeGalleryImgEl = document.activeElement.firstElementChild;\r\n\r\n  if (!activeGalleryImgEl.classList.contains(\"gallery__image\")) {\r\n    return;\r\n  };\r\n\r\n  lightbox.classList.add('is-open');\r\n  lightboxImage.src = `${activeGalleryImgEl.dataset.source}`;\r\n  lightboxImage.alt = `${activeGalleryImgEl.alt}`;\r\n  \r\n  document.body.style.overflow = \"hidden\"; // остановка скролла под модальным окном\r\n  document.body.style.height = \"100wh\"; // остановка скролла под модальным окном\r\n};\r\n\r\nexport function onCloseLightbox({ lightboxImage, lightbox}) {\r\n  lightboxImage.src = \"\";\r\n  lightboxImage.alt = \"\";\r\n\r\n  lightbox.classList.remove('is-open');\r\n\r\n  document.body.style.overflow = \"auto\"; // запуск скролла после закрытия модального окна\r\n  document.body.style.height = \"auto\"; // запуск скролла после закрытия модального окна\r\n};\r\n\r\nexport function lightboxImageRight({lightboxImage}, items) {\r\n  const currentImgElIndex = items.indexOf(items.find(item => item.original === lightboxImage.src));\r\n\r\n  let nextImgEl = {};\r\n\r\n  currentImgElIndex === items.length - 1 ?\r\n    nextImgEl = items[0] :\r\n    nextImgEl = items[currentImgElIndex + 1];\r\n\r\n  lightboxImage.src = `${nextImgEl.original}`;\r\n  lightboxImage.alt = `${nextImgEl.description}`;\r\n};\r\n\r\nexport function lightboxImageLeft({lightboxImage}, items) {\r\nconst currentImgElIndex = items.indexOf(items.find(item => item.original === lightboxImage.src));\r\n  let previousImgEl = {};\r\n\r\n  currentImgElIndex === 0 ?\r\n    previousImgEl = items[items.length - 1] :\r\n    previousImgEl = items[currentImgElIndex - 1];\r\n\r\n  lightboxImage.src = `${previousImgEl.original}`;\r\n  lightboxImage.alt = `${previousImgEl.description}`;\r\n};\r\n\r\nexport function onLightboxImageTurn(refs, items) {\r\n  if (refs.xMousePosition > (window.innerWidth / 2)) {\r\n    lightboxImageRight(refs, items);\r\n  } else {\r\n    lightboxImageLeft(refs, items);\r\n  };\r\n};","import './sass/main.scss';\r\n\r\nimport { throttle } from 'throttle-debounce';\r\n\r\nimport {\r\n    galleryItems,\r\n    refs\r\n    }\r\n    from './js/source-refs';\r\n\r\nimport finalGalleryCreator from './js/gallery-creator';\r\n\r\nimport {\r\n    onOpenLightbox,\r\n    onCloseLightbox,\r\n    lightboxImageRight,\r\n    lightboxImageLeft,\r\n    onLightboxImageTurn,\r\n    }\r\n    from './js/callbacks';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => finalGalleryCreator(refs, galleryItems)); //событие при загрузке DOM-дерева\r\nrefs.gallery.addEventListener('click',\r\n  (evt) => {\r\n  evt.preventDefault();\r\n  onOpenLightbox(refs);\r\n  }\r\n);\r\nrefs.closeLightbox.addEventListener('click',() => onCloseLightbox(refs));\r\nrefs.lightboxOverlay.addEventListener('click', onCloseLightboxOverlay);\r\nrefs.lightboxImage.addEventListener('mousemove', throttle(500, (evt) => refs.xMousePosition = evt.clientX));\r\nrefs.lightboxImage.addEventListener('click', () =>  onLightboxImageTurn(refs, galleryItems));\r\nwindow.addEventListener('keydown', onKeyPress);\r\n\r\nfunction onCloseLightboxOverlay(evt) {\r\n  if (evt.target !== evt.currentTarget) {\r\n    return;\r\n  };\r\n  onCloseLightbox(refs);\r\n};\r\n\r\nfunction onKeyPress(evt) {\r\n  if(evt.code === \"Enter\") {\r\n    onOpenLightbox(refs);\r\n  };\r\n\r\n  let modalIsOpen = refs.lightbox.classList.contains('is-open');\r\n  \r\n  if (modalIsOpen) {\r\n  //  if (evt.code === \"Escape\") {\r\n  //   onCloseLightbox(refs);\r\n  // };\r\n  \r\n  // if (evt.code === \"ArrowRight\") {\r\n  //   lightboxImageRight(refs, galleryItems);\r\n  // };\r\n\r\n  // if (evt.code === \"ArrowLeft\") {\r\n  //   lightboxImageLeft(refs, galleryItems);\r\n  // }; \r\n    switch (evt.code) {\r\n      case \"Escape\": \r\n       onCloseLightbox(refs);\r\n       break;\r\n\r\n      case \"ArrowRight\":\r\n       lightboxImageRight(refs, galleryItems);\r\n       break;\r\n\r\n      case \"ArrowLeft\":\r\n       lightboxImageLeft(refs, galleryItems);\r\n       break;\r\n\r\n      default:\r\n       break;\r\n    }\r\n  };\r\n};\r\n\r\n\r\nconsole.log(\"Привіт, світ! Життя брутальне!\");\r\n"]}